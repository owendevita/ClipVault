<!DOCTYPE html>
<html lang="en">
<head>
    <title>ClipVault | User Preferences</title>
    <link rel="stylesheet" href="style_preferences.css">
</head>
<body>
    <div class="header">
        <div class="header-content">
            <a href="main.html" class="back-arrow">&lt;</a>
            <p>User Preferences</p>
        </div>
    </div>

    <div class="main">
        <!-- User Info Section -->
        <div class="user-info-section">
            <h2>User Information</h2>
            <div class="info-row">
                <span>Logged in as:</span>
                <span id="current-username">Loading...</span>
            </div>
        </div>

        <!-- Security Status Section -->
        <div class="security">
            <h2>üîí Security Status</h2>
            <div id="security-status" class="security-status">
                <p>Loading security status...</p>
            </div>
            
            <div class="security-controls">
                <h3>Security Management</h3>
                <div class="security-actions">
                    <button id="rotate-clipboard-key" class="security-btn warning">
                        üîÑ Rotate Encryption Key
                    </button>
                    <p class="warning-text">‚ö†Ô∏è This will make existing encrypted data unreadable!</p>
                    
                    <button id="rotate-jwt-secret" class="security-btn warning">
                        üîÑ Rotate Authentication Key
                    </button>
                    <p class="warning-text">‚ö†Ô∏è This will log out all users!</p>
                </div>
            </div>
        </div>

        <!-- App Behavior Section -->
        <div class="app-behavior">
            <h2>App Behavior</h2>
            <div class="toggle-row">
                <span>Store Clipboard History</span>
                <label class="switch">
                    <input type="checkbox" class="pref-toggle" data-pref="storeClipboardHistory">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="toggle-row">
                <span>Auto-encrypt Content</span>
                <label class="switch">
                    <input type="checkbox" class="pref-toggle" data-pref="autoEncrypt" checked disabled>
                    <span class="slider"></span>
                </label>
                <small style="color: #666; margin-left: 10px;">Always enabled for security</small>
            </div>
            <div class="toggle-row">
                <span>Notify on Clipboard Change</span>
                <label class="switch">
                    <input type="checkbox" class="pref-toggle" data-pref="notifyOnClipboardChange">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="toggle-row">
                <span>Open ClipVault on Startup</span>
                <label class="switch">
                    <input type="checkbox" class="pref-toggle" data-pref="openOnStartup">
                    <span class="slider"></span>
                </label>
            </div>
        </div>

        <!-- Hotkeys Section -->
        <div class="hotkeys">
            <h2>Hotkeys</h2>
            <div class="hotkey-row">
                <span>Copy Keybind</span>
                <button class="hotkey-btn">CTRL + C</button>
            </div>
            <div class="hotkey-row">
                <span>Paste Keybind</span>
                <button class="hotkey-btn">CTRL + V</button>
            </div>
        </div>
    </div>

    <div id="hotkey-popup" class="popup-overlay">
        <div class="popup-box">
            <h3>Edit Hotkey</h3>
            <p id="hotkey-display">Press new key combination...</p>
            <div class="popup-actions">
                <button id="save-hotkey-btn">Save</button>
                <button id="cancel-hotkey-btn">Cancel</button>
            </div>
        </div>
    </div>

    <script src="preferences.js"></script>
</body>
</html>